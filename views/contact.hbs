<div class="contact-container">

  <h1 style="margin-top:30px">Contact Information</h1>

  <!--contact form-->
  <form class="contact-form" style="width: 400px; margin-top:30px">
    <div class="form-group">
      <label for="name">Name</label>
      <input
        type="text"
        class="form-control"
        id="name"
        name="name"
        placeholder="Enter name"
      />
    </div>
    <div class="form-group">
      <label for="email">Email address</label>
      <input
        type="email"
        class="form-control"
        id="email"
        name="email"
        aria-describedby="emailHelp"
        placeholder="Enter email"
      />
      <small id="emailHelp" class="form-text text-muted">We'll never share your
        email with anyone else.</small>
    </div>
    <div class="form-group">
      <label for="message">Message</label>
      <textarea
        class="form-control"
        id="message"
        name="message"
        rows="3"
      ></textarea>
    </div>
    <button
      type="submit"
      class="btn btn-primary button-form submit"
    >Submit</button>
  </form>

</div>

<!--add an event listener to the submit button, create an object with the information from the form and send an e-mail -->
<script>
  document.querySelector(".submit").addEventListener("click", function (event) {
  event.preventDefault(); 
  var name = document.querySelector("#name").value; 
  var email = document.querySelector("#email").value; 
  var message = document.querySelector("#message").value; 
  var data = { 
    name: name, 
    email: email, 
    message: message 
    }; 
  console.log(data); 
  let xhr = new XMLHttpRequest();
  xhr.open("POST", "/contact");
  xhr.setRequestHeader("Content-Type", "application/json");
  xhr.onload = function() {
    if (xhr.status === 200) {
      console.log("success");
      alert("E-mail sent successfully");
      name.value = '';
      email.value = '';
      message.value = '';
    } else {
      console.log("error");
      alert("E-mail not sent. Try again later.");
    }
  };
  xhr.send(JSON.stringify(data));
  });

</script>